<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>:has forms</title>
  <link rel="stylesheet" href="../init.css">
</head>
<body>
  <h1>:has forms</h1>

  <fieldset>
    <legend>form</legend>
    <form>
      <label for="email">Email Address:</label>
      <input id="email" name="email" type="email" value="na@me@example.com" />  
    
      <label for="secret">Secret Code: (lower case letters)</label>
      <input id="secret" name="secret" type="text" value="test" pattern="[a-z]+" />  
    
      <label for="age">Your age: (18+)</label>
      <input id="age" name="age" type="number" value="5" min="18" />  
  
      <label><input name="tos" type="checkbox" required checked /> - Do you agree to ToS?</label>  

      <button type="submit">submit</button>
    </form>
  </fieldset>
  
<style>

:is(html) {
  --errorColor: var(--colorDanger700)
}

form {
  display: grid;
  gap: 1rem;
  grid-template-columns: 1fr 5fr;
}

label:has(input[type="checkbox"]),
button[type="submit"] {
  grid-column: 2;
}

input:invalid {
  border: 3px dashed var(--errorColor);
}

/* input inside label */
label:has(:invalid) {
  color: var(--errorColor);
}

/* input beside label */
label:has(~:invalid) {
  color: var(--errorColor);
}

/* fieldset with invalid input */
fieldset:has(:invalid) {
  border-color: var(--errorColor);

  legend {
    color: var(--errorColor);
  }
}

button[type="submit"] {
  cursor: pointer;
}

/* invalid form buttons */
form:has(:invalid) button[type="submit"] {
  color: #ccc;
  pointer-events: none;
  border-style: dashed;
  background-color: transparent;
}


</style>

</body>
</html>